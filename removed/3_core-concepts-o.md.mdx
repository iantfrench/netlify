---
slug: /core-concepts-of-blockid-credential-provider-guide
id: Z2795b66d-d539-4b09-ba71-b41b8bd35072
---
# Core Concepts of BlockID Credential Provider Guide

## Overview

This guide covers the following fundamental concepts and the logical workflow behind the BlockID Credential Provider application.

## Intelligent CP (Proxy vs Non-Proxy)
When a user connects to the enterprise’s VPN then we are able to access the proxy server or the .pac files that are configured on the organization's intranet. In BlockID Credential Provider (CP), when you are on the company’s network then all the outbound connections might happen via the proxy server. The proxy server acts as an intermediator, receives your WebSocket or HTTP/HTTPS connection request, and transfers to the desired network via WebSocket (HTTP or HTTPS) connections. 
On your Windows machine, you can set these proxy connections via two ways:
1. **Manual proxy setup**: This setup is by adding proxy server address and port details within ***Settings > Network and Internet > Proxy > Manual proxy setup*** section.
2. **Automatic proxy setup**: In this, you will provide the path of the .pac file stored on a specific server within ***Settings > Network and Internet > Proxy > Automatic proxy setup*** section. A Proxy Auto-Configuration (PAC) file is a JavaScript function definition that specifies whether web browser requests (HTTP, HTTPS, and FTP) are transferred directly to the destination or rerouted to a web proxy server. The Windows machine will read this `.pac` file and fetch the intended proxy server details from it to access the required website.
Similarly, in the CP, you can provide the proxy server details such as URL, Username & Password (if authentication required), or add the path of the .pac file. The .pac file comprises the rules specifying the list of proxy servers that are assigned for the required websites. The CP contains the intelligence to read .pac file or manual proxy and the logical workflow is shown in the following figure.

![Proxysupportworkflow.jpg](https://cdn.document360.io/aeae7c88-d2f4-4a9c-bba9-c4f368260d78/Images/Documentation/Proxysupportworkflow.jpg)

The Logical workflow to read .pac file or the manual proxy details in CP is as follows:
1. The CP will check the proxy details within the ***BlockID Configuration window > Advanced tab***.
    * If the URL is a Proxy URL, the CP will use this URL to connect to the BlockID Admin console.
    
    :::tip Note:
    Direct proxy may or may not use the login credentials for authentication.
    :::
    * If the URL is a .pac file: The .pac file is accessible only when you are connected to the company’s VPN.
        * If CP can access the .pac file: This confirms that you are connected through the company’s VPN tunnel, the Windows API gets the .pac file and run it. The CP will fetch the proxy server details from the .pac file, and establish a connection to the BlockID Admin console via the specified proxy server. 
        * If CP will not be able to access the .pac file: It will establish a direct connection to the BlockID Admin console.
     * If the proxy details are not configured:  It is confirmed that you are not connected to the company's VPN OR maybe the proxy is not set for that organization. The CP will establish a direct connection to the BlockID Admin console.

:::caution Alert:
 In any of the above cases, if the connection fails, it displays a connection error. (The Connection cannot be established.)
:::

## Smart Card Authentication Support
In several enterprises, the user gets the smart card to log in to their **Windows** workstation. It is a hardware device, a physical card used to authenticate users in their Windows workstation. The user certificate is generated by the certificate authority and **SCEP** using the AD. The administrator burns the user certificate onto the USB device that is currently using to log in to the Windows workstation. This generated certificate is generated on a server, burned onto a user’s USB device, and that device the users can carry with them. So, whenever users want to login to the Windows workstation, they plug in that USB device to the Windows workstation, the system will ask for the PIN to enter. If the entered PIN is correct, the system will access the smart card and send the **CHALLENGE** to the smart card. This CHALLENGE will be signed by the certificate and user’s identifier private key available within the smart card and returns that signed **CHALLENGE** back to the Windows workstation. The Window workstation queries the AD, validates the certificate, and allows the user to login to it upon successful authentication.
 the certificate along with the user’s identifier private key is passed onto the Windows workstation. The Window workstation queries the AD, validates the certificate, and allows the user to login to it upon successful authentication.

This concept of user authentication is implemented in CP via a virtual smart card. Whenever a user enrolls a persona in the BlockID Workforce mobile application, the certificate will be issued to the user by the certificate authority and SCEP using the AD. The certificate is divided into two parts - **Public key** and **Signature token**. The public key is stored on the **IPFS** (in the BlockID Admin Console) and the signature token is on your mobile device. 
BlockID CP (via scanning the QR code using the BlockID Workforce mobile app), the **hash** (location) value of the **IPFS** where the public key of the certificate is stored and the signature token will be sent to the BlockID Admin Console and the BlockID Admin Console will send the public key and signature token back to the CP on the Windows workstation. 

While CP installation the **BlockID Virtual Smart Card** driver and reader gets installed on the Windows workstation. Whenever a user tries to log in using CP, the CP passes the user certificate and signature token to the virtual smart card reader. The virtual smart card reader then passes the details to the Windows workstation. The Windows workstation sends the CHALLENGE to the smart card reader. This CHALLENGE will be signed by the certificate and private key available within the smart card and returns that signed CHALLENGE back to the Windows workstation. The Windows workstation will allow you to log in successfully, upon the successful authentication of the signed CHALLENGE.

The hash value of the IPFS location where the public key is stored will be sent to the mobile device along with the signature token when the user is successfully enrolled in the BlockID Workforce mobile app. 



