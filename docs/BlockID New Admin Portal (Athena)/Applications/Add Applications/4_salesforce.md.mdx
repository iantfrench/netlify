---
slug: /salesforce
id: Zd8371067-2e6a-4730-9ef7-289dcab8c344
---
# Salesforce

## Overview


This document describes the procedure to configure your organization's Salesforce application within the Athena Admin portal to use it as a passwordless authentication solution for your organization's Salesforce users. This integration will allow your users to log in to their Salesforce account leveraging their biometrics. The biometric options include TouchID / FaceID and LiveID.

### Before you Begin
You will need the following resources and privileges to complete this integration:
1. Admin access to the following:
    * **Athena Admin portal**: If your organization is not registered with the Athena Admin portal, visit the **[Sign Up](https://www.1kosmos.com/blockid-free-trial)** page for your organization’s Athena Admin portal registration. The 1Kosmos representative will create an account for your respective organization within the Athena Admin portal.
    * Salesforce instance. Visit the [Salesforce Developer](https://developer.salesforce.com/signup) site for Salesforce registration.

    :::caution Note:
   This integration will not work with the Sandbox edition of Salesforce.
    :::
2. Install on your mobile device:
    * BlockID mobile application (Compatible with iOS and Android devices). Visit the **[BlockID for Android](https://play.google.com/store/apps/details?id=com.onekosmos.kernel.blockid)** or **[BlockID for iOS](https://apps.apple.com/us/app/blockid/id1539421428)** to download the application.

### Assumptions
* With the above prerequisites, you should now successfully be registered and be able to login to:
    * Athena Admin portal
    * Your organization's Salesforce instance with access to the Setup screen.
* Installed and registered the BlockID mobile application.
    * Launch the BlockID mobile application and follow the on-screen instructions to register your app with the BlockID Platform to enroll your biometrics. Visit the [Enroll Biometrics (TouchID/ FaceID and LiveID) section of the BlockID mobile application User Guide](https://1kosmos.document360.io/docs/blockid-mobile-application-user-guide#EnrollBio) for step by step understanding of the Biometrics Enrollment process within the BlockID mobile application.

Perform the following tasks to enable this integration:

1. Salesforce configurations
2. Athena Admin portal configurations

**List of Topics:**

1. [Salesforce configurations](#Salesforceconfig)
    a. [Create Salesforce Security Token](#Salesforcesecuritytoken)
2. [Athena Admin portal configurations](#Athenaconfig)
3. [Salesforce Admin domain configurations for auto-generated SP configuration by Athena Admin portal](#Salesforceconfig1)
    a. [Update Single Sign-On settings](#SFSSO)
    b. [Update User details](#SFUser)
    c. [Set default Authentication Configuration](#SFAuth)
4. [Test the SAML Single Sign-On Connection](#TestSAML)

## <a name = "Salesforceconfig"></a>Salesforce configurations

These configurations need to be performed before integrating your Salesforce application into the Athena Admin portal.

:::tip Note:
The following steps will be performed by your Salesforce administrator. 
:::

1. Login to your **Salesforce** site.
2. From the top right corner, navigate to ***Settings (gear icon) > Setup***.
The Salesforce Home page is displayed with the **Setup** screen.
2. Copy and save your Salesforce domain URL to use it while performing Salesforce integration in the Athena Admin portal. For example, `https://<your_domain>.my.salesforce.com`.

### <a name = "Salesforcesecuritytoken"></a>Create Salesforce Security Token

You will also need a Salesforce security token to use while performing Salesforce integration into the Athena Admin portal. 

1. Login to your Salesforce lightning experience site, click on your avatar, and navigate ***Settings > Reset My Security Token***.

![salesforceLightning.png](https://cdn.document360.io/aeae7c88-d2f4-4a9c-bba9-c4f368260d78/Images/Documentation/salesforceLightning.png)

![salesforceLightning2.png](https://cdn.document360.io/aeae7c88-d2f4-4a9c-bba9-c4f368260d78/Images/Documentation/salesforceLightning2.png)

3. Click **Reset Security Token**. The new security token will be generated and sent to you in your email.
4. Click the Salesforce security token value received on our email and save it to use while performing the Salesforce integration in the Athena Admin portal.

## <a name = "Athenaconfig"></a>Athena Admin portal configurations

This is a one-click app Salesforce integration that will automatically generate a Service Provider (SP) configuration in Salesforce with the name `BlockID`.

:::caution Note:
The following steps will be performed by your Athena Admin portal administrator. The credentials provided during one-click integration are one-time use only. BlockID does not store these credentials, thus it is recommended to change the passwords and revoke tokens after completion of the one-click integration. To perform more configurations to the Salesforce SP SAML integration, visit the Salesforce Admin console and perform the changes.
:::

1. Login to the Athena Admin portal, navigate to ***Applications > Add Application***.

![AddNewApplications.jpg](https://cdn.document360.io/aeae7c88-d2f4-4a9c-bba9-c4f368260d78/Images/Documentation/AddNewApplications%281%29.jpg)

2. In the **Add new applications** screen, click on the **Add integration** link for the **Salesforce SAML** option from the **Pre-built integrations** section. 

![SalesforceAthena.jpg](https://cdn.document360.io/aeae7c88-d2f4-4a9c-bba9-c4f368260d78/Images/Documentation/SalesforceAthena.jpg)

![SalesforceAthena1.jpg](https://cdn.document360.io/aeae7c88-d2f4-4a9c-bba9-c4f368260d78/Images/Documentation/SalesforceAthena1.jpg)

3.  In the **Salesforce** screen, enter the following values:
    *  **Application Name**: Enter the name for your Salesforce application.
    *  In the **Service provider info** section:
        *  **Salesforce Domain**: Enter your saved Salesforce domain URL as mentioned in the [Salesforce configurations](#Salesforceconfig) topic.
        *  **Salesforce Username**: Enter the username used to log in to your Salesforce admin account.
        *  **Salesforce Password**: Enter the password used to log in to your Salesforce admin account.
        *  **Salesforce Security Token**: Enter the Salesforce security token created and saved described in the [Salesforce configurations](#Salesforceconfig) topic. 
    *  Click **Connect**. This will add your Salesforce application and automatically generate an SP configuration in Salesforce with the name `BlockID`.

![salesforce_after_creation.png](https://cdn.document360.io/aeae7c88-d2f4-4a9c-bba9-c4f368260d78/Images/Documentation/salesforce_after_creation%281%29.png)

## <a name = "Salesforceconfig1"></a>Salesforce configurations for auto-generated SP configuration by Athena Admin portal

 These are optional configurations that can be performed after creating the one-click app Salesforce integration into the Athena Admin portal.

:::tip Note:
The following steps will be performed by your Salesforce administrator. 
:::

1. Login to your **Salesforce** site.
2. From the top right corner, navigate to ***Settings (gear icon) > Setup***. The Salesforce Home page is displayed with the **Setup** screen.

### <a name = "SFSSO"></a>Update Single Sign-On settings

4. Navigate to ***SETTINGS** > **Identity** > click **Single Sign-On Settings**.*
5. In the Single Sign-On Settings screen:
   * Click **Edit**.
   * Select the checkbox for the **SAML Enabled** option.
   * Click **Save**.

### <a name = "SFUser"></a>Update User details

1.Navigate to ***ADMINISTRATION** > **Users** > **Users***.
2. In the Users list, click **Edit** for your username. 
3. In the **User Edit** screen, in the **Single Sign On Information** section: 
      * **Federation ID**: Enter the email address which you have used while signing up with Salesforce. Also, this should be the same email address that is linked to your Athena Admin portal's salesforce application.
4. Click **Save**.

### <a name = "SFAuth"></a>Set default Authentication Configuration

1. Navigate to ***SETTINGS** > **Company Settings** > **My Domain** > **Authentication Configuration***. 
     * Click **Edit**.
     *  **Authentication Service**: select the checkbox next to the SSO instance created for the BlockID Admin Console.
   * Click **Save**.

## <a name = "TestSAML"></a>Test the SAML Single Sign-On Connection section

1. In your browser, enter your organization's Salesforce domain URL.

    ![salesforceLightning3.png](https://cdn.document360.io/aeae7c88-d2f4-4a9c-bba9-c4f368260d78/Images/Documentation/salesforceLightning3%283%29.png)

    * Check and you will notice the option to login using your auto-generated identity provider by the Athena Admin portal within the salesforce. For example, the option here is the **BlockID**.
    * Click on the login option of your identity provider. You will be redirected to the Athena Admin portal login screen with the barcode to be scanned from your BlockID mobile app.
2. On the BlockID mobile application’s Home screen, click `Scan QR`.
3. Scan the QR code. The confirmation pop-up window is displayed asking to `Allow BlockID to access this device’s location?`.
4. In the confirmation pop-up window, select `Allow only while using the app`. The Authentication screen is displayed with the `Please authenticate using <Biometric_option> from 1kosmos` message.
5. Click **Authenticate** and perform the appropriate authentication method. The pop-up window is displayed with `Thank you! You have successfully authenticated to Log In` message upon successful authentication.
6. You will be logged in to your organization’s **Salesforce** application.
